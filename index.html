<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <title>Väderhemsida</title>
    <style>
        .boxed{
            display: flex; 
            height: 100px; 
            width: 100%; 
            border: solid black 1px; 
            align-items: center;
        }
    </style>
</head>
<body class="bg-dark">
    <div class="container bg-secondary d-flex flex-row justify-content-center align-items-center" style="height: 100px; margin-top: 0.5%;">
        <input id="input">
        <button id="submit" onclick="createCard()">Button</button>
    </div>
    <div class="bg-secondary p-3" style="height: 750px; margin-left: 4%; margin-right: 4%; margin-top: 2%; display: flex; flex-wrap: wrap; overflow-y: auto; overflow-x: hidden; justify-content: space-evenly;" id="cardContainer">
        <div class="card" style="width: 500px; margin-top: 2%; margin-bottom: 2%;">
            <div class="card-body">
                <h1 class="card-title" id="CityName">Stockholm</h5>
                <div class="card-text container d-flex" style="margin-left: 30%;">
                    <p style="width: 80px; font-size: 0.9em;">Temperatur max/min</p>
                    <p style="width: 80px; font-size: 0.9em;">Nederbörd per dygn</p>
                    <p style="width: 70px; font-size: 0.9em;">Vind</p>
                </div>
                <div class="boxed card-text">
                    <div style="padding: 0px 0% 0px 5%; width: 175px;">
                        <h4>Idag</h4>
                        <h5>8 dec</h5>
                    </div>
                    <div class="vl" style="border-left:1px solid black; height: 100px;"></div> 
                    <div class="boxed" style="justify-content: space-evenly;">
                        <div>
                            <h5>-3</h5>
                            <h5>-5</h5>
                        </div>
                        <div>
                            <h5>0,0mm</h5>
                        </div>
                        <div>
                            <h5>Idag</h5>
                            <h5>Idag</h5>
                        </div>
                        <div style="height: 60%; margin-right: -10px;">
                            <img src="sun.png" alt="sun" height="100%">
                        </div>
                    </div>
                </div>
                <div class="boxed card-text" style="margin-top: 5%;">
                    <div style="padding: 0px 0% 0px 5%; width: 175px;">
                        <h4>Imorgon</h4>
                        <h5>9 dec</h5>
                    </div>
                    <div class="vl" style="border-left:1px solid black; height: 100px;"></div> 
                    <div class="boxed" style="justify-content: space-evenly;">
                        <div>
                            <h5>-3</h5>
                            <h5>-5</h5>
                        </div>
                        <div>
                            <h5>0,0mm</h5>
                        </div>
                        <div>
                            <h5>Idag</h5>
                            <h5>Idag</h5>
                        </div>
                        <div style="height: 60%; margin-right: -10px;">
                            <img src="sun.png" alt="sun" height="100%">
                        </div>
                    </div>
                </div>
                <div class="boxed card-text" style="margin-top: 5%;">
                    <div style="padding: 0px 0% 0px 5%; width: 175px;">
                        <h4>Lördag</h4>
                        <h5>10 dec</h5>
                    </div>
                    <div class="vl" style="border-left:1px solid black; height: 100px;"></div> 
                    <div class="boxed" style="justify-content: space-evenly;">
                        <div>
                            <h5>-3</h5>
                            <h5>-5</h5>
                        </div>
                        <div>
                            <h5>0,0mm</h5>
                        </div>
                        <div>
                            <h5>Idag</h5>
                            <h5>Idag</h5>
                        </div>
                        <div style="height: 60%; margin-right: -10px;">
                            <img src="sun.png" alt="sun" height="100%">
                        </div>
                    </div>
                </div>
                <div class="boxed card-text" style="margin-top: 5%;">
                    <div style="padding: 0px 0% 0px 5%; width: 175px;">
                        <h4>Söndag</h4>
                        <h5>11 dec</h5>
                    </div>
                    <div class="vl" style="border-left:1px solid black; height: 100px;"></div> 
                    <div class="boxed" style="justify-content: space-evenly;">
                        <div>
                            <h5>-3</h5>
                            <h5>-5</h5>
                        </div>
                        <div>
                            <h5>0,0mm</h5>
                        </div>
                        <div>
                            <h5>Idag</h5>
                            <h5>Idag</h5>
                        </div>
                        <div style="height: 60%; margin-right: -10px;">
                            <img src="sun.png" alt="sun" height="100%">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function getInput(){
            let cityName = document.getElementById("CityName").innerText;
            return cityName;
        }
        fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${getInput()}&appid=11ce47de9c4fb72f072a0168191280dd&cnt=5`)
        .then(x => x.json())
        .then(data =>
            console.log(data)
        )
        function createCard(){
            let cityName = document.getElementById("CityName").innerText;
            var card = document.createElement("div");
            card.classList = "card"; card.style = "width: 500px; margin-top: 2%; margin-bottom: 2%;";

            var cardBod = document.createElement("div");
            cardBod.classList = "card-body";

            var cardTitle = document.createElement("h1");
            cardTitle.classList = "card-title"; cardTitle.id = "CityName"; cardTitle.innerText = cityName;
            cardBod.appendChild(cardTitle);

            var cardInfos = document.createElement("div");
            cardInfos.classList = "card-text container d-flex"; cardInfos.style = "margin-left: 30%;";

            var info1 = document.createElement("p");
            info1.style = "width: 80px; font-size: 0.9em;"; info1.innerText = "Temperatur max/min"

            var info2 = document.createElement("p");
            info2.style = "width: 75px; font-size: 0.9em;"; info2.innerText = "Nederbörd per dygn"

            var info3 = document.createElement("p");
            info3.style = "width: 70px; font-size: 0.9em;"; info3.innerText = "Vind / byvind"

            cardInfos.appendChild(info1);cardInfos.appendChild(info2);cardInfos.appendChild(info3);
            cardBod.appendChild(cardInfos);
            for(let n = 0; n < 5; n++){
                // BEHÖVER ANVÄNDA N FÖR ATT SKAPA FLERA BOXAR
                var cardText1 = document.createElement("div");
                cardText1.classList = "boxed card-text"; cardText1.style = "";

                var current = document.createElement("div");
                current.style = "padding: 0px 0% 0px 5%; width: 175px;";

                var day = document.createElement("h4");
                day.innerText = "Idag";

                var date = document.createElement("h5");
                date.innerText = "9 dec";
                current.appendChild(day); current.appendChild(date); cardText1.appendChild(current);

                var line = document.createElement("div");
                line.classList = "vl"; line.style = "border-left:1px solid black; height: 100px;";
                cardText1.appendChild(line);

                let box = document.createElement("div");
                box.classList = "boxed"; box.style = "justify-content: space-evenly;";

                let boxDiv1 = document.createElement("div");
                let boxDiv1Text1 = document.createElement("h5");
                boxDiv1Text1.innerText = "-3";
                let boxDiv1Text2 = document.createElement("h5");
                boxDiv1Text2.innerText = "-5";
                boxDiv1.appendChild(boxDiv1Text1); boxDiv1.appendChild(boxDiv1Text2);

                let boxDiv2 = document.createElement("div");
                let boxDiv2Text1 = document.createElement("h5");
                boxDiv2Text1.innerText = "0,0mm";
                boxDiv2.appendChild(boxDiv2Text1);

                let boxDiv3 = document.createElement("div");
                let boxDiv3Text1 = document.createElement("h5");
                boxDiv3Text1.innerText = "Idag";
                let boxDiv3Text2 = document.createElement("h5");
                boxDiv3Text2.innerText = "Idag";
                boxDiv3.appendChild(boxDiv3Text1); boxDiv3.appendChild(boxDiv3Text2);

                let boxDiv4 = document.createElement("div"); boxDiv4.style = "height: 60%; margin-right: -10px";
                let boxDiv4Image = document.createElement("img");
                boxDiv4Image.src = "sun.png"; boxDiv4Image.alt = "Sun"; boxDiv4Image.style.height="100%";
                boxDiv4.appendChild(boxDiv4Image);

                box.appendChild(boxDiv1);box.appendChild(boxDiv2);box.appendChild(boxDiv3);box.appendChild(boxDiv4);
                cardText1.appendChild(box);
                //
            }
            cardBod.appendChild(cardText1);
            card.appendChild(cardBod);
            let cardContainer = document.getElementById("cardContainer");
            cardContainer.appendChild(card);     
        }
    </script>
</body>
</html>